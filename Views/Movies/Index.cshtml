@model week50_mini_project_mvc_movie.Models.MovieFilterViewModel

@{
    ViewData["Title"] = "Movies";
}

<h1>Movies</h1>

<p>
    <a asp-action="Create">Create New</a>
</p>

<form asp-action="Index" method="get" class="row mb-4">

    <div class="col-md-4">
        <select asp-for="SelectedGenre"
                asp-items="Model.Genres"
                class="form-select">
            <option value="">All genres</option>
        </select>
    </div>

    <div class="col-md-4">
        <input type="text"
               name="searchString"
               value="@Model.SearchString"
               class="form-control"
               placeholder="Search by title..." />
    </div>

    <div class="col-md-4">
        <button type="submit" class="btn btn-primary w-100">
            Search
        </button>
    </div>

</form>


<div class="container">
    <div class="row" id="movies-list">
        
        @foreach (var movie in Model.Movies)
        {
            <div class="col-md-4 mb-4">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h4 class="card-title">@movie.Title</h4>

                        <p class="card-text mb-1">
                            <strong>Genre:</strong> @movie.Genre
                        </p>

                        <p class="card-text mb-1">
                            <strong>Release:</strong> @movie.ReleaseDate.ToString("yyyy-MM-dd")
                        </p>

                        <p class="card-text mb-3">
                            <strong>Price:</strong> @movie.Price.ToString("C")
                        </p>

                        <a asp-action="Details"
                           asp-route-id="@movie.Id"
                           class="btn btn-primary">
                            Details
                        </a>

                        <!-- the place with CRUD for users -->

                    </div>
                </div>
            </div>
        }




    </div>
</div>
